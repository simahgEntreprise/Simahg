<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>GuÃ­a Visual - Configurar Gmail</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .container { background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        h1 { color: #667eea; text-align: center; font-size: 36px; margin-bottom: 10px; }
        h2 { color: #764ba2; border-bottom: 3px solid #667eea; padding-bottom: 10px; margin-top: 40px; }
        .step { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 25px; margin: 25px 0; border-radius: 15px; border-left: 6px solid #667eea; position: relative; }
        .step-number { position: absolute; top: -15px; left: 20px; background: #667eea; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .step h3 { color: #667eea; margin-top: 10px; }
        .important { background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 8px; margin: 15px 0; }
        .success { background: #d4edda; border-left: 4px solid #28a745; padding: 15px; border-radius: 8px; margin: 15px 0; }
        .code { background: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 8px; font-family: 'Courier New', monospace; overflow-x: auto; margin: 15px 0; }
        .link-button { display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px 30px; text-decoration: none; border-radius: 10px; margin: 10px 5px; font-weight: bold; transition: all 0.3s; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        .link-button:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,0.3); }
        .screenshot { border: 3px solid #667eea; border-radius: 10px; max-width: 100%; margin: 15px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        ul { line-height: 1.8; }
        li { margin: 10px 0; }
        .checklist { list-style: none; padding-left: 0; }
        .checklist li:before { content: "â˜ "; font-size: 20px; margin-right: 10px; }
        .highlight { background: #ffeb3b; padding: 2px 6px; border-radius: 3px; font-weight: bold; }
        .video-note { background: #e3f2fd; border-left: 4px solid #2196F3; padding: 15px; border-radius: 8px; margin: 15px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“§ Configurar Gmail para SIMAHG</h1>
        <p style="text-align: center; font-size: 18px; color: #666;">GuÃ­a paso a paso con imÃ¡genes</p>
        
        <div class="success">
            <strong>âœ… Â¡PHPMailer ya estÃ¡ instalado!</strong><br>
            Ahora solo necesitas configurar tu email de Gmail. Â¡Es fÃ¡cil!
        </div>
        
        <!-- PASO 1 -->
        <div class="step">
            <div class="step-number">1</div>
            <h3>ğŸ” Activar VerificaciÃ³n en 2 Pasos</h3>
            <p><strong>Â¿Por quÃ©?</strong> Gmail requiere verificaciÃ³n en 2 pasos para generar contraseÃ±as de aplicaciÃ³n.</p>
            
            <ol>
                <li>Abre este enlace en tu navegador:</li>
                <a href="https://myaccount.google.com/security" target="_blank" class="link-button">
                    ğŸ”— Ir a Seguridad de Google
                </a>
                
                <li>Busca <span class="highlight">"VerificaciÃ³n en dos pasos"</span></li>
                <li>Si dice "Activada" âœ… â†’ ContinÃºa al paso 2</li>
                <li>Si dice "Desactivada" âŒ â†’ Clic en "Comenzar" y sigue las instrucciones</li>
            </ol>
            
            <div class="video-note">
                <strong>ğŸ’¡ Tip:</strong> Te pedirÃ¡ tu nÃºmero de telÃ©fono para enviar cÃ³digos de verificaciÃ³n. Es seguro y solo lo usa Google.
            </div>
        </div>
        
        <!-- PASO 2 -->
        <div class="step">
            <div class="step-number">2</div>
            <h3>ğŸ”‘ Generar ContraseÃ±a de AplicaciÃ³n</h3>
            <p><strong>Â¿QuÃ© es?</strong> Una contraseÃ±a especial de 16 caracteres que permite a XAMPP enviar emails desde tu Gmail.</p>
            
            <ol>
                <li>Abre este enlace:</li>
                <a href="https://myaccount.google.com/apppasswords" target="_blank" class="link-button">
                    ğŸ”— Generar ContraseÃ±a de AplicaciÃ³n
                </a>
                
                <li>En <span class="highlight">"Selecciona la app"</span> â†’ Elige "Correo"</li>
                <li>En <span class="highlight">"Selecciona el dispositivo"</span> â†’ Elige "Otro (nombre personalizado)"</li>
                <li>Escribe: <code>XAMPP SIMAHG</code></li>
                <li>Clic en <span class="highlight">"GENERAR"</span></li>
                <li>AparecerÃ¡ una contraseÃ±a de 16 caracteres como esta:</li>
            </ol>
            
            <div class="code">
                abcd efgh ijkl mnop
            </div>
            
            <div class="important">
                <strong>âš ï¸ MUY IMPORTANTE:</strong>
                <ul>
                    <li>âœ… Copia TODA la contraseÃ±a (los 16 caracteres)</li>
                    <li>âœ… SIN espacios: <code>abcdefghijklmnop</code></li>
                    <li>âœ… GuÃ¡rdala en un lugar seguro</li>
                    <li>âŒ NO la compartas con nadie</li>
                    <li>âŒ NO cierres la ventana hasta copiarla (no la volverÃ¡s a ver)</li>
                </ul>
            </div>
        </div>
        
        <!-- PASO 3 -->
        <div class="step">
            <div class="step-number">3</div>
            <h3>ğŸ“ Editar Archivo de ConfiguraciÃ³n</h3>
            <p><strong>Â¿DÃ³nde?</strong> En el archivo <code>config_email.php</code> de tu proyecto.</p>
            
            <ol>
                <li>Abre el archivo en tu editor (VS Code, Sublime, etc.):</li>
                <div class="code">
                    /Applications/XAMPP/xamppfiles/htdocs/simahg/config_email.php
                </div>
                
                <li>Busca esta lÃ­nea (alrededor de la lÃ­nea 29):</li>
                <div class="code">
'smtp_user' => 'TU_EMAIL@gmail.com',
                </div>
                
                <li>Reemplaza <code>TU_EMAIL@gmail.com</code> con tu email real:</li>
                <div class="code">
'smtp_user' => 'tuEmail@gmail.com',  <span style="color: #50fa7b;">// ğŸ‘ˆ Tu email real</span>
                </div>
                
                <li>Busca esta lÃ­nea (alrededor de la lÃ­nea 30):</li>
                <div class="code">
'smtp_pass' => 'tu_contraseÃ±a_aplicacion',
                </div>
                
                <li>Reemplaza con la contraseÃ±a que copiaste en el Paso 2:</li>
                <div class="code">
'smtp_pass' => 'abcdefghijklmnop',  <span style="color: #50fa7b;">// ğŸ‘ˆ Los 16 caracteres SIN espacios</span>
                </div>
                
                <li>TambiÃ©n busca y cambia (lÃ­nea 31):</li>
                <div class="code">
'from_email' => 'TU_EMAIL@gmail.com',
                </div>
                
                <li>Reemplaza con tu email:</li>
                <div class="code">
'from_email' => 'tuEmail@gmail.com',  <span style="color: #50fa7b;">// ğŸ‘ˆ El mismo email</span>
                </div>
                
                <li><strong>Guarda el archivo</strong> (Cmd + S en Mac)</li>
            </ol>
            
            <div class="video-note">
                <strong>ğŸ’¡ Ejemplo completo:</strong>
                <div class="code">
$config = [
    'smtp_host' => 'smtp.gmail.com',
    'smtp_port' => 587,
    'smtp_user' => 'juan.perez@gmail.com',           <span style="color: #50fa7b;">// âœ… Tu email</span>
    'smtp_pass' => 'abcdefghijklmnop',                <span style="color: #50fa7b;">// âœ… ContraseÃ±a de app</span>
    'from_email' => 'juan.perez@gmail.com',           <span style="color: #50fa7b;">// âœ… Tu email</span>
    'from_name' => 'SIMAHG - Sistema de GestiÃ³n'
];
                </div>
            </div>
        </div>
        
        <!-- PASO 4 -->
        <div class="step">
            <div class="step-number">4</div>
            <h3>ğŸ§ª Probar el EnvÃ­o de Email</h3>
            <p><strong>Â¡Momento de la verdad!</strong> Vamos a verificar que todo funciona.</p>
            
            <ol>
                <li>Abre la pÃ¡gina de prueba:</li>
                <a href="http://localhost/simahg/test_email.php" target="_blank" class="link-button">
                    ğŸ§ª Abrir PÃ¡gina de Prueba
                </a>
                
                <li>Ingresa tu email (puede ser el mismo de Gmail)</li>
                <li>Clic en <span class="highlight">"Enviar Email de Prueba"</span></li>
                <li>Espera unos segundos...</li>
                <li>Si ves: <strong style="color: #28a745;">âœ… Â¡Ã‰xito!</strong> â†’ Â¡Funciona!</li>
                <li>Revisa tu bandeja de entrada (y spam por si acaso)</li>
            </ol>
            
            <div class="success">
                <strong>âœ… Si funciona:</strong> Â¡Felicidades! Ya puedes usar recuperaciÃ³n de contraseÃ±a con email real.
            </div>
            
            <div class="important">
                <strong>âš ï¸ Si no funciona:</strong>
                <ul>
                    <li>Verifica que copiaste bien la contraseÃ±a (sin espacios)</li>
                    <li>Verifica que tu email estÃ© correcto</li>
                    <li>Verifica que guardaste el archivo config_email.php</li>
                    <li>Intenta regenerar la contraseÃ±a de aplicaciÃ³n</li>
                </ul>
            </div>
        </div>
        
        <!-- PASO 5 -->
        <div class="step">
            <div class="step-number">5</div>
            <h3>ğŸ‰ Probar Sistema de RecuperaciÃ³n</h3>
            <p><strong>Â¡Ahora sÃ­!</strong> El sistema enviarÃ¡ emails reales.</p>
            
            <ol>
                <li>Ve al login del sistema:</li>
                <a href="http://localhost/simahg/login.php" target="_blank" class="link-button">
                    ğŸ” Ir al Login
                </a>
                
                <li>Clic en <span class="highlight">"Â¿Olvidaste tu contraseÃ±a?"</span></li>
                <li>Selecciona <span class="highlight">"Correo ElectrÃ³nico"</span></li>
                <li>Ingresa usuario: <code>admin</code></li>
                <li>Clic en <span class="highlight">"Enviar CÃ³digo"</span></li>
                <li>Revisa tu email</li>
                <li>Ingresa el cÃ³digo de 6 dÃ­gitos</li>
                <li>Establece una nueva contraseÃ±a</li>
                <li>Â¡Inicia sesiÃ³n con la nueva contraseÃ±a!</li>
            </ol>
            
            <div class="success">
                <strong>ğŸŠ Â¡Listo!</strong> El sistema de recuperaciÃ³n de contraseÃ±a por email estÃ¡ funcionando perfectamente.
            </div>
        </div>
        
        <h2>ğŸ“‹ Checklist de VerificaciÃ³n</h2>
        <ul class="checklist">
            <li>âœ… PHPMailer instalado</li>
            <li>â˜ VerificaciÃ³n en 2 pasos activada en Gmail</li>
            <li>â˜ ContraseÃ±a de aplicaciÃ³n generada</li>
            <li>â˜ Archivo config_email.php editado</li>
            <li>â˜ Email de prueba enviado correctamente</li>
            <li>â˜ Sistema de recuperaciÃ³n probado</li>
        </ul>
        
        <h2>ğŸ†˜ Ayuda RÃ¡pida</h2>
        <div class="video-note">
            <strong>Errores Comunes:</strong>
            <ul>
                <li><strong>"SMTP connect() failed"</strong> â†’ ContraseÃ±a incorrecta o con espacios</li>
                <li><strong>"Could not authenticate"</strong> â†’ Email incorrecto o verificaciÃ³n 2 pasos desactivada</li>
                <li><strong>"Vendor autoload not found"</strong> â†’ PHPMailer no instalado correctamente</li>
            </ul>
        </div>
        
        <div style="text-align: center; margin-top: 40px;">
            <a href="test_email.php" class="link-button">ğŸ§ª PÃ¡gina de Prueba</a>
            <a href="login.php" class="link-button">ğŸ” Ir al Login</a>
            <a href="test_recuperacion_config.php" class="link-button">ğŸ“Š Ver Estado del Sistema</a>
        </div>
        
        <div style="text-align: center; margin-top: 30px; padding-top: 30px; border-top: 2px solid #eee;">
            <p style="color: #999;">SIMAHG - Sistema de GestiÃ³n | ConfiguraciÃ³n de Email</p>
        </div>
    </div>
</body>
</html>
